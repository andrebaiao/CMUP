{"ast":null,"code":"import _regeneratorRuntime from \"/home/andre/Desktop/work/mestrado/2-semestre/CMUP/project/CMUP/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/andre/Desktop/work/mestrado/2-semestre/CMUP/project/CMUP/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/andre/Desktop/work/mestrado/2-semestre/CMUP/project/CMUP/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _readOnlyError from \"/home/andre/Desktop/work/mestrado/2-semestre/CMUP/project/CMUP/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/readOnlyError\";\n\nvar _jsxFileName = \"/home/andre/Desktop/work/mestrado/2-semestre/CMUP/project/CMUP/Frontend/src/views/Login.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState } from \"react\"; // reactstrap components\n\nimport { Button, Card, CardHeader, CardTitle, Form, Input, Col } from \"reactstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var success = true;\n\n  var message_insucess = function message_insucess() {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"\\\"Credentials invalid! Try Again...\\\"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 16\n    }, _this);\n  };\n\n  function handleSubmit(_x) {\n    return _handleSubmit.apply(this, arguments);\n  }\n\n  function _handleSubmit() {\n    _handleSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var message, url, data, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              message = {\n                username: username,\n                password: password\n              };\n              url = \"http://localhost:9000/login\";\n              _context.next = 5;\n              return fetch(url, {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  \"username\": username,\n                  \"password\": \"medic1\"\n                })\n              });\n\n            case 5:\n              data = _context.sent;\n              _context.next = 8;\n              return data.json();\n\n            case 8:\n              response = _context.sent;\n\n              if (response.status == 200) {\n                console.log(\"Login with success! Token \" + response.token);\n                localStorage.setItem(\"token\", response.token);\n                localStorage.setItem(\"user_id\", response[\"user_id\"]);\n                localStorage.setItem(\"login\", \"true\");\n                window.location.replace(\"http://localhost:3000/admin/patient/scheduler\");\n              } else {\n                true, _readOnlyError(\"success\");\n              }\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _handleSubmit.apply(this, arguments);\n  }\n\n  var getSuccess = function getSuccess() {\n    return success;\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    style: {\n      width: \"400px\",\n      margin: \"0 auto\",\n      marginTop: \"10%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n      children: /*#__PURE__*/_jsxDEV(CardTitle, {\n        tag: \"h4\",\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"SignIn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Col, {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          form: true,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"feFirstName\",\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            id: \"feFirstName\",\n            placeholder: \"\",\n            name: \"username\",\n            onChange: function onChange(e) {\n              return setUsername(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"feLastName\",\n            style: {\n              marginTop: \"30px\"\n            },\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            id: \"feLastName\",\n            type: \"password\",\n            placeholder: \"\",\n            name: \"password\",\n            onChange: function onChange(e) {\n              return setPassword(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            theme: \"accent\",\n            style: {\n              marginLeft: \"70px\",\n              marginTop: \"30px\"\n            },\n            children: \"Log in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            theme: \"accent\",\n            style: {\n              marginLeft: \"20px\",\n              marginTop: \"30px\"\n            },\n            children: \"Sign Out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 21\n          }, this), message_insucess]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"9FY2cPL9VBDmuhjwpF2ik6flsHs=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/andre/Desktop/work/mestrado/2-semestre/CMUP/project/CMUP/Frontend/src/views/Login.js"],"names":["React","useState","Button","Card","CardHeader","CardTitle","Form","Input","Col","Login","username","setUsername","password","setPassword","success","message_insucess","handleSubmit","e","preventDefault","message","url","fetch","method","headers","body","JSON","stringify","data","json","response","status","console","log","token","localStorage","setItem","window","location","replace","getSuccess","width","margin","marginTop","textAlign","target","value","marginLeft"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\n// reactstrap components\nimport {\n  Button,\n  Card,\n  CardHeader,\n\n  CardTitle,\n  Form,\n  Input,\n\n  Col,\n\n} from \"reactstrap\";\n\n\nfunction Login() {\n\n    const[ username, setUsername ] = useState('');\n    const[ password, setPassword ] = useState('');\n\n    const success = true;\n    const message_insucess = () => {\n      return ( <span>\"Credentials invalid! Try Again...\"</span>)\n    };\n\n    async function handleSubmit(e){\n        e.preventDefault();\n\n        const message = { username, password };\n        const url = \"http://localhost:9000/login\";\n        \n\n        let data = await fetch(url, {\n            method: 'POST',\n            headers: { \n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\"username\": username, \"password\": \"medic1\"}),\n        });\n\n        let response = await data.json();\n\n        if (response.status == 200){\n            console.log(\"Login with success! Token \" + response.token);\n            localStorage.setItem(\"token\", response.token);\n            localStorage.setItem(\"user_id\", response[\"user_id\"]);\n            localStorage.setItem(\"login\", \"true\");\n            window.location.replace(\"http://localhost:3000/admin/patient/scheduler\");\n        } else {\n          success = true;\n        }\n\n        \n    }\n\n    const getSuccess = () => {\n      return success;\n    }\n\n  return (\n    <Card style={{width: \"400px\", margin: \"0 auto\", marginTop:\"10%\"}}>\n        <CardHeader>\n        <CardTitle tag=\"h4\" style={{textAlign:\"center\"}}>SignIn</CardTitle>\n        </CardHeader>\n        <Col >\n            <Form onSubmit={handleSubmit}>\n                <Col md=\"12\"  form>\n                    {/* UserName */}\n                    \n                        <label htmlFor=\"feFirstName\">Username</label>\n                        <Input\n                            id=\"feFirstName\"\n                            placeholder=\"\"\n                            name=\"username\"\n                            onChange={(e)=>setUsername(e.target.value)}\n                        />\n                    \n                    {/* PassWord */}\n                    \n                        <label htmlFor=\"feLastName\" style={{marginTop:\"30px\"}}>Password</label>\n                        <Input\n                            id=\"feLastName\"\n                            type=\"password\"\n                            placeholder=\"\"\n                            name=\"password\"\n                            onChange={(e)=>setPassword(e.target.value)}\n                        />\n                    \n                    <Button theme=\"accent\"  style={{marginLeft: \"70px\", marginTop:\"30px\"}}>Log in</Button>\n                \n                    <Button theme=\"accent\" style={{marginLeft: \"20px\", marginTop:\"30px\"}}>Sign Out</Button>\n\n                    {message_insucess}\n                </Col>\n                \n            </Form>\n        </Col>\n    </Card>\n  )  \n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}